<ion-view view-title="interventions">

	<ion-nav-view class="slide-left-right"></ion-nav-view>
    <ion-nav-buttons side="right">
      <button class="button button-clear button-positive" on-release="toggleEditMode()">{{labels.editMode}}</button>
    </ion-nav-buttons>
		<!-- delegates scrolling to ionic  http://ionicframework.com/docs/api/directive/ionContent/ -->
		<ion-content>
			<ion-list show-delete="editMode">

				<ion-item ng-if="interventions.reserve.length > 0" class="item item-divider">
					RÃ©serve
				</ion-item>

				<ion-item on-release="" nav-direction="forward" class="item item-icon-left" >
					<img class="icon" src="assets/domain/reserve.png" alt="Reserve"/>
					<p class="text-left-interventions">{{interventions.reserve[0]._SUBTITLE_1}} {{interventions.reserve[0]._SUBTITLE_2}}</p>
				</ion-item>

				<div ng-repeat="acts in interventions.list | orderBy:'_PLANNED_DATETIME'" ng-init="counter=$index">
					<ion-item class="item item-divider">
						{{acts._TYPE}}
						<br/>
						{{acts._PLANNED_DATETIME}}
					</ion-item>

					<ion-item nav-direction="forward"  on-release="getDetails({{acts.ACT[0]._ID}})" class="item item-icon-left" ng-if="acts.ACT.length >= 1 && acts.ACT.length < 14"  >
						<img class="icon" src="assets/domain/{{acts.IconeLink}}" alt="{{acts.IconeLink}}"/>
						<p class="text-left-interventions">{{acts._SUBTITLE_1}} {{acts._SUBTITLE_2}}</p>
					</ion-item>

					<ion-item href="#" class="item item-icon-left item-icon-right" ng-if="acts.ACT.length == undefined">
						<img class="icon" src="assets/domain/{{acts.IconeLink}}" alt="{{acts.IconeLink}}"/>

						<strong>{{acts.ACT._TITLE}}  </strong>
						<br/>
						{{acts._SUBTITLE_1}} {{acts._SUBTITLE_2}}

						<img class="icon" src="assets/Icon/notepad.png" on-release="showPopup(acts.ACT._ID,-1)" alt="Notepad" />

						<ion-delete-button  on-release="deleteElement(acts.ACT._ID,$index,'list')" ng-if="editMode" class="ion-minus-circled">
						</ion-delete-button>
					</ion-item>
				</div>
			</ion-list>

		</ion-content>
</ion-view>
